local UserInputService = game:GetService("UserInputService")
local toggle = false

local function highlightInvisibleParts()
	local selectionColor = BrickColor.new("Really red") -- Change color if needed

	for _, part in ipairs(workspace:GetDescendants()) do
		if part:IsA("BasePart") and part.Transparency >= 1 then
			local box = Instance.new("SelectionBox")
			box.Adornee = part
			box.LineThickness = 0.05
			box.Color3 = selectionColor.Color
			box.SurfaceTransparency = 0.5
			box.Name = "InvisiblePartHighlighter"
			box.Parent = part
		end
	end
end

local function removeHighlights()
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("SelectionBox") and obj.Name == "InvisiblePartHighlighter" then
			obj:Destroy()
		end
	end
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.H then
		toggle = not toggle
		if toggle then
			highlightInvisibleParts()
		else
			removeHighlights()
		end
	end
end)
